(()=>{"use strict";var e,n={426:(e,n,t)=>{t.d(n,{Z:()=>h});var r=t(81),a=t.n(r),i=t(645),o=t.n(i),s=t(667),d=t.n(s),c=new URL(t(234),t.b),l=new URL(t(120),t.b),u=o()(a()),p=d()(c),g=d()(l);u.push([e.id,`* {\n  --border-bgc: #3f294c;\n  --ship-color: #af69ef;\n  --start-btn-bgc: #e5c3d1;\n  --randomize-btn-bgc: #9974ff;\n}\n\n@font-face {\n  font-family: 'NexaRustSans';\n  src: url(${p});\n}\n\n@keyframes fadeOut {\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n::selection {\n  background: var(--border-bgc);\n  color: white;\n}\n\nbody {\n  width: 100dvw;\n  height: 100dvh;\n  margin: 0;\n  padding: 0;\n  font-family: 'NexaRustSans', 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n  font-size: 3rem;\n  background-image: url(${g});\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n}\n\n.landing-page-container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  overflow-y: scroll;\n  z-index: 1;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  grid-template-rows: repeat(3, 1fr);\n  row-gap: 100px;\n  justify-items: center;\n  align-items: center;\n  background-image: url(${g});\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n}\n\n.landing-page-container > .battleship-title {\n  margin-bottom: 0;\n  grid-column: 1 / 3;\n}\n\n.landing-page-container > .grid-container.user-placeable {\n  filter: none;\n  height: 70dvh;\n  width: 70dvh;\n  box-shadow: 0 0 30px rgba(0, 0, 0, .3);\n}\n\n.grid-container.user-placeable .over {\n  border: 1.5px solid #2c1b3d;\n  box-shadow: 0px 0px 30px rgba(0, 0, 0, .15);\n}\n\n.grid-container.user-placeable .not-placeable {\n  border: 1.5px solid #ff0033;\n  box-shadow: 0px 0px 30px rgba(0, 0, 0, .15);\n\n}\n\n\n.landing-page-container > .start-btn {\n  display: none;\n  cursor: pointer;\n  grid-column: 1 / 3;\n  height: min-content;\n  padding: 10px 20px;\n  font-size: 2.5rem;\n  background-color: #e5c3d1;\n  border-radius: 15px;\n  border: 3px solid black;\n  margin-bottom: 50px;\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.3);\n  font-family: 'Inter';\n  font-weight: bold;\n  transition: all .2s;\n}\n\n.landing-page-container > .start-btn:hover {\n  transform: scale(1.1) rotate(1deg);\n}\n\n.start-btn.enabled {\n  display: block;\n}\n\n.landing-page-container > .placeable-ships-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 30px;\n  background-image: linear-gradient(rgba(48, 38, 52, .8), rgba(21, 16, 23, .8));\n  border-radius: 20px;\n  box-shadow: inset 0 0 5px rgba(0, 0, 0, .5);\n  height: 70dvh;\n  width: 50dvh;\n  transition: all .5s;\n}\n\n.landing-page-container > .placeable-ships-container > [id] {\n  display: flex;\n  cursor: move;\n}\n\n.placeable-ships-container > [id].already-in-use  {\n  opacity: .4;\n  cursor: default;\n}\n\n.placeable-ships-container .ship-cell {\n  background-color: var(--ship-color);\n  border: 1.5px solid #2c1b3d;\n  box-shadow: 0px 0px 30px rgba(0, 0, 0, .15);\n  width: 50px;\n  height: 50px;\n}\n\n.placeable-ships-container > .randomize-btn {\n  cursor: pointer;\n  height: min-content;\n  padding: 10px 20px;\n  font-size: 2.5rem;\n  background-color: var(--randomize-btn-bgc);\n  border: 0;\n  border-radius: 10px;\n  box-shadow: inset 2px 2px 0 rgba(255, 255, 255, .15),\n  inset -2px -2px 0 rgba(255, 255, 255, .15);\n  margin-top: 40px;\n  margin-bottom: 50px;\n  font-family: 'Inter';\n  font-weight: bold;\n  transition: all .2s;\n}\n\n.placeable-ships-container > .randomize-btn:hover {\n  box-shadow: inset 2px 2px 0 rgba(255, 255, 255, .3),\n  inset -2px -2px 0 rgba(255, 255, 255, .3);\n}\n\n.body-bgi {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  height: 100%;\n  width: 100%;\n  background-image: url(${g});\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  filter: blur(5px);\n}\n\n.page-container {\n  user-select: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  justify-items: center;\n  align-items: center;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 5fr;\n}\n\n.turn-indicator {\n  font-weight: bold;\n  grid-column: 1 / 3;\n  align-self: end;\n}\n\n.grid-container {\n  position: relative;\n  height: 50dvh;\n  width: 50dvh;\n  background-color: white;\n  border: 1rem solid var(--border-bgc);\n  border-radius: 10%;\n  box-shadow: 0px 0px 30px rgba(0, 0, 0, .15);\n  filter: brightness(80%);\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  transition: all 0.5s;\n}\n\n.grid-container.not-turn {\n  filter: none;\n  cursor: crosshair;\n  height: 60dvh;\n  width: 60dvh;\n  box-shadow: 0px 0px 30px rgba(0, 0, 0, .3);\n}\n\n.grid-container.partner {\n  cursor: default;\n}\n\n@media (max-width: 600px) {\n  .body {\n    margin: 10px;\n    height: auto;\n    width: auto;\n  }\n\n  .page-container {\n    flex-direction: column;\n  }\n\n  .grid-container {\n    height: 80dvw;\n    width: 80dvw;\n  }\n\n  .line .square {\n    width: 200px;\n    height: 20px;\n  }\n}\n\n.grid-container .line {\n  display: flex;\n}\n\n.ship {\n  background-color: var(--ship-color);\n  box-shadow: 0px 0px 30px rgba(0, 0, 0, .15);\n}\n\n.line .square {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid rgba(188, 188, 188, 0.5);\n  width: 100%;\n  height: 100%;\n  box-sizing: border-box;\n}\n\n.line .square.top {\n  border-top: none;\n}\n\n.line .square.bottom {\n  border-bottom: none;\n}\n\n.line .square.left {\n  border-left: none;\n}\n\n.line .square.right {\n  border-right: none;\n}\n\n.circle-icon {\n  position: absolute;\n  height: 30%;\n  width: 30%;\n}\n\n.missed-icon {\n  position: absolute;\n  height: 30%;\n  width: 30%;\n}\n\n.explosion-icon {\n  position: absolute;\n  height: 70%;\n  width: 70%;\n}\n\n.restart-screen {\n  position: absolute;\n  display: flex;\n  opacity: 0;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  z-index: -1;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, .95);\n  transition: all .5s;\n}\n\n.restart-screen > .restart-btn {\n  cursor: pointer;\n  padding: 10px 20px;\n  font-size: 5rem;\n  background-color: rgba(0, 0, 0, 0);\n  color: var(--ship-color);\n  border: 0;\n  margin-bottom: 50px;\n  box-shadow: inset 0 0px 0px rgba(255, 255, 255);\n  font-family: 'Inter';\n  font-weight: bold;\n  transition: all .1s;\n}\n\n.restart-screen > .restart-btn:hover {\n  transform: scale(3) rotate(1deg);\n  color: #070407;\n  text-shadow: -1px 0 var(--ship-color), 0 1px var(--ship-color), 1px 0 var(--ship-color), 0 -1px var(--ship-color);\n}\n\n.restart-screen.enabled {\n  z-index: 2;\n  opacity: 1;\n}`,""]);const h=u},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,a,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(o[d]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),n.push(l))}},n}},667:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var i={},o=[],s=0;s<e.length;s++){var d=e[s],c=r.base?d[0]+r.base:d[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var p=t(u),g={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)n[p].references++,n[p].updater(g);else{var h=a(g,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:h,references:1})}o.push(u)}return o}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var i=r(e=e||[],a=a||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=t(i[o]);n[s].references--}for(var d=r(e,a),c=0;c<i.length;c++){var l=t(i[c]);0===n[l].references&&(n[l].updater(),n.splice(l,1))}i=d}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},234:(e,n,t)=>{e.exports=t.p+"68e8224548ebc8b673ce.ttf"},120:(e,n,t)=>{e.exports=t.p+"62f36e21e53a735c09e8.jpg"},108:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(807);const a=()=>{const e=[],n=[],t=[],a=[],i=[],o=([e,n],t)=>!(n>9||n<0||e>9||e<0)&&![[-1,-1],[-1,0],[-1,1],[0,-1],[0,0],[0,1],[1,-1],[1,0],[1,1]].some((([a,i])=>((e,n,t)=>(0,r.of)(n,t)&&Number.isInteger(e[n][t].shipId))(t,e+a,n+i))),s=(e,[n,r],i,s)=>{const d=0===i?t:a;for(let t=0;t<e;t+=1){const[e,a]="rightward"===s?[n,r+t]:[n+t,r];if(!o([e,a],d))return!1}return!0},d=t=>(0===t?e:n).every((e=>e.isSunk()));return{buildGrids:()=>{for(let e=0;e<10;e+=1){[t,a].forEach((e=>e.push([])));for(let n=0;n<10;n+=1)[t,a].forEach((n=>n[e].push({shipId:null,isHit:!1})))}return{partnerGrid:t,opponentGrid:a}},emptyGrid:r=>{const[i,o]=0===r?[t,e]:[a,n];return i.forEach((e=>{e.forEach((e=>{const n=e;n.shipId=null,n.isHit=!1}))})),o.length=0,i},placeShip:(r,i,o=0,d="rightward")=>!!s(r.getLength(),i,o,d)&&(0===o?e.push(r):n.push(r),(({getLength:e,getId:n},[r,i],o,s)=>{const d=0===o?t:a;let c;if("rightward"===s)for(let t=0;t<e();t+=1)c=d[r][i+t],c.shipId=n();else for(let t=0;t<e();t+=1)c=d[r+t][i],c.shipId=n();return d})(r,i,o,d)),areCellsAvailable:s,receiveAttack:(r,o)=>{if(d(0)||d(1))return"game ended";const[s,c]=r,l=o,[u,p]=0===l?[a,1]:[t,0];if(void 0===u[s]||void 0===u[s][c])return!1;const g=u[s][c];if(Number.isInteger(g.shipId)&&!g.isHit){const t=((t,r)=>{const a=1===r?n:e,i=t.shipId,[o]=a.filter((e=>e.getId()===i));if(!o)throw new Error("Couldn't find the ship");return o})(g,p);return t.hit(),g.isHit=!0,t}if(g.isHit)return!1;g.isHit||(g.isHit=!0);const h={coordinates:r,ofPlayerId:l};return i.push(h),h},areAllShipsSunk:d,getMissedShotsCoordinates:()=>i,getGrids:()=>[t,a]}}},575:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(108),a=t(807),i=t(772);const o=()=>{let e,n;const t={id:0,turn:!0,attackedCoordinates:[]},o={id:1,turn:!1,attackedCoordinates:[]},s=()=>{o.turn?(t.turn=!0,o.turn=!1):(t.turn=!1,o.turn=!0)},d=()=>[Math.floor(10*Math.random()),Math.floor(10*Math.random())],c=(e,n)=>{e.emptyGrid(n);const r=[5,4,3,3,2];for(let a=0;a<5;a+=1){const s=0===n?t:o,c=1===Math.round(Math.random())?"rightward":"downward";let l=!1;for(;!l;)l=e.placeShip((0,i.Z)(r[a]),d(),s.id,c)}},l=(n=>{const t=n,r={sourceArray:null,lastArray:null,values:{rightward:[],downward:[]},oneSideCheck:!1};let i=!1;const o=(e,n,t,a=0)=>{const i=e;let s,[d,c]=[i[0],i[1]],l=n,u=t;if(2===a)return!1;if(1===Math.abs(u))s="rightward",c=i[1]+u,r.values.downward.length=0;else{if(1!==Math.abs(l))return l=i[0]-r.sourceArray[0],u=i[1]-r.sourceArray[1],o(i,l,u,a+1);s="downward",d=i[0]+l,r.values.rightward.length=0}return{direction:s,newY:d,newX:c}},c={rightward:[[0,-1],[0,1]],downward:[[-1,0],[1,0]]};return{attack:()=>{const n=(()=>{let n=d();if(i){let e=!1,t=1===Math.round(Math.random())?"rightward":"downward";r.values[t].length>0?(n=r.values[t].pop(),e=!0):t="rightward"===t?"downward":"rightward",!e&&r.values[t].length>0&&(n=r.values[t].pop())}let a=e.receiveAttack(n,t.id);if("game ended"===a)return"game ended";for(;!a;)n=d(),a=e.receiveAttack(n,t.id);return{currentCoordinates:n,receiveAttack:a}})();if("game ended"===n)return n;const{currentCoordinates:l,receiveAttack:u}=n;return((e,n)=>{const s=n.getHits&&n.getLength&&"object"==typeof n,d=!i&&s,l=i&&s,u=!r.oneSideCheck&&i&&"object"==typeof n,p=r.oneSideCheck&&i&&"object"==typeof n&&0===r.values.rightward.length&&0===r.values.downward.length;if(d)i=!0,r.sourceArray=e,r.lastArray=e,Object.keys(c).forEach((n=>{c[n].forEach((([i,o])=>{const s=e[0]+i,d=e[1]+o;(0,a.of)(s,d)&&!(0,a.zF)(t.attackedCoordinates,[s,d])&&r.values[n].push([s,d])}))}));else if(l){const n=e[0]-r.lastArray[0],i=e[1]-r.lastArray[1],s=o(e,n,i),{direction:d,newY:c,newX:l}=s;s&&((n,i,o)=>{r.lastArray=e,(0,a.of)(i,o)&&!(0,a.zF)(t.attackedCoordinates,[i,o])&&r.values[n].push([i,o])})(d,c,l)}else u?r.oneSideCheck=!0:p&&(i=!1,r.sourceArray=null,r.lastArray=null,r.oneSideCheck=!1)})(l,u),"object"==typeof u&&(t.attackedCoordinates.push(l),s(),new Promise((e=>{setTimeout((()=>e(l)),1900*Math.random()+100)})))}}})(t.turn?o:t);return{startGame:(a="computer",i=null)=>{i?(e=i,c(e,o.id)):(e=(0,r.Z)(),e.buildGrids(),c(e,t.id),c(e,o.id)),n=a},attack:r=>{if(!e.areAllShipsSunk(t.id)&&!e.areAllShipsSunk(o.id)){const i=t.turn?t:o;return!(!e.receiveAttack(r,i.id)||(0,a.zF)(i.attackedCoordinates,r)||(i.attackedCoordinates.push(r),s(),"computer"!==n))&&l.attack()}return"game ended"},initializeDefaultShips:c,getGameboard:()=>e,getPlayers:()=>[t,o]}}},772:(e,n,t)=>{t.d(n,{Z:()=>a});var r=t(807);const a=(e,n=0,t=(0,r.ZP)())=>{let a=n;return{hit:()=>{a<e&&(a+=1)},isSunk:()=>a===e,getHits:()=>a,getLength:()=>e,getId:()=>t}}},528:(e,n,t)=>{t.d(n,{Z:()=>x});var r=t(379),a=t.n(r),i=t(795),o=t.n(i),s=t(569),d=t.n(s),c=t(565),l=t.n(c),u=t(216),p=t.n(u),g=t(589),h=t.n(g),b=t(426),f={};f.styleTagTransform=h(),f.setAttributes=l(),f.insert=d().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=p(),a()(b.Z,f),b.Z&&b.Z.locals&&b.Z.locals;var m=t(997),v=t(405),y=t(575);const x=()=>{const e=()=>{const e=(0,y.Z)(),n=(0,v.Z)(e),t=document.querySelector(".landing-page-container"),r=t.querySelector(".start-btn"),a=t.querySelector(".placeable-ships-container");(0,m.Z)(t,n,e);let i=!1;const o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"draggable"===e.attributeName&&Array.from(a.children).filter((e=>e.id)).every((e=>"false"===e.getAttribute("draggable")))&&!1===i&&(r.classList.add("enabled"),i=!0)}))}));Array.from(a.children).forEach((e=>{o.observe(e,{attributes:!0})}))};return{loadContent:e,restartRound:()=>{Array.from(document.body.children).forEach((e=>e.remove())),document.body.innerHTML='<div class="landing-page-container">\n    <h1 class="battleship-title">Battleship</h1>\n    <div class="grid-container user-placeable"></div>\n    <div class="placeable-ships-container">\n      <div draggable="true" id="carrier" data-length="5"></div>\n      <div draggable="true" id="battleship" data-length="4"></div>\n      <div draggable="true" id="destroyer" data-length="3"></div>\n      <div draggable="true" id="submarine" data-length="3"></div>\n      <div draggable="true" id="patrol-boat" data-length="2"></div>\n      <button class="randomize-btn">randomize</button>\n    </div>\n    <button class="start-btn" type="button">START!</button>\n    </div>\n    <div class="page-container"></div>\n    <div class="restart-screen">\n      <button class="restart-btn" type="button">restart?</button>\n    </div>',e()}}}},405:(e,n,t)=>{t.d(n,{Z:()=>d});const r=t.p+"circle.77f7a6b9b1a0b81919ecc80f77bccf55.svg",a=t.p+"missed.d7b50a48b77d1753b349d0d872957498.svg",i=t.p+"bomb-explosion.bb0801340f0e599af9260a380cb48e5a.svg";var o=t(807),s=t(528);const d=e=>{const n=e;let t,d;const c=(e,n,t,o=!1)=>{const s=e,d=document.createElement("img");d.src=r,d.alt="target cell icon",d.classList.add("circle-icon");const c=document.createElement("img");c.src=a,c.alt="missed cell icon",c.classList.add("missed-icon");const l=document.createElement("img");l.src=i,l.alt="explosed cell icon",l.classList.add("explosion-icon");const u=s.querySelector("img.missed-icon"),p=s.querySelector("img.explosion-icon");return 0===t&&("mouseenter"===o?u||p||"YOUR TURN"!==n.textContent||s.appendChild(d):"mouseleave"===o&&(()=>{const e=s.querySelector("img.circle-icon");e&&s.removeChild(e)})()),"click"===o&&(()=>{const e=Number.parseInt(s.parentNode.getAttribute("data-line"),10),n=Number.parseInt(s.getAttribute("data-square"),10);return s.getAttribute("data-has-ship")&&!p?(s.appendChild(l.cloneNode(!0)),{coordinates:[e,n]}):!u&&!p&&(s.appendChild(c.cloneNode(!0)),{coordinates:[e,n]})})()};return(()=>{const e=document.createElement("div");e.classList.add("body-bgi"),document.body.appendChild(e)})(),{Indicator:()=>{let e;return{addTurnIndicator:()=>(e=document.createElement("div"),e.classList.add("turn-indicator"),e.classList.add("player1"),e.textContent="YOUR TURN",e),changeTurnIndicator:(n=!1)=>Number.isInteger(n)?(e.textContent=0===n?"PLAYER 1 WINS":"PLAYER 2 WINS",t.classList.add("not-turn"),d.classList.add("not-turn"),setTimeout((()=>(e=>{const n=document.querySelector(".restart-screen");n.classList.add("enabled"),n.querySelector(".restart-btn").addEventListener("click",(()=>(0,s.Z)().restartRound()))})()),5e3),"game ended"):(e.classList.contains("player1")?(e.classList.remove("player1"),e.classList.add("player2"),e.textContent="OPPONENT TURN",t.classList.add("not-turn"),d.classList.remove("not-turn")):(e.classList.remove("player2"),e.classList.add("player1"),e.textContent="YOUR TURN",d.classList.add("not-turn"),t.classList.remove("not-turn")),!0),getTurnIndicator:()=>e}},buildPlayerGrids:()=>(t=document.createElement("div"),t.classList.add("grid-container"),t.classList.add("partner"),d=document.createElement("div"),d.classList.add("grid-container"),d.classList.add("opponent"),d.classList.add("not-turn"),[t,d].forEach((e=>(0,o.Zb)(e))),[t,d]),populateDOMGrid:(e,n)=>{e.forEach(((e,r)=>e.forEach(((e,a)=>{if(Number.isInteger(e.shipId))if(0===n){const e=t.children[r].children[a];e.classList.add("ship"),e.setAttribute("data-has-ship","true")}else d.children[r].children[a].setAttribute("data-has-ship","true")}))))},listenOpponentGridCells:e=>{const t=e.getTurnIndicator(),r=document.querySelector(".grid-container.partner"),[a,i]=n.getPlayers();let o=!0;const s=e=>{o=e},l=(n,t,r)=>!!n.areAllShipsSunk(t)&&(e.changeTurnIndicator(r),!0),u=async d=>{if(o){const o=c(d.target,t,a.id,"click");if(o){s(!1),e.changeTurnIndicator();const d=await n.attack(o.coordinates),u=n.getGameboard();if(d&&0!==d.length){if("game ended"===d)return e.changeTurnIndicator(a.id),"game ended";{const[n,a]=d,o=r.children[n].children[a];c(o,t,i.id,"click"),e.changeTurnIndicator()}}else e.changeTurnIndicator();if(s(!0),l(u,a.id,i.id)||l(u,i.id,a.id))return s(!1),"game ended"}}return!0};for(let e=0;e<10;e+=1){const n=d.children[e];for(let e=0;e<10;e+=1){const r=n.children[e];r.addEventListener("mouseenter",(e=>c(e.target,t,a.id,"mouseenter"))),r.addEventListener("mouseleave",(e=>c(e.target,t,a.id,"mouseleave"))),r.addEventListener("click",u)}}}}}},997:(e,n,t)=>{t.d(n,{Z:()=>o});var r=t(807),a=t(772),i=t(108);const o=(e,n,t)=>{const o=e,s=o.querySelector(".placeable-ships-container");let d=o.querySelector(".grid-container.user-placeable");const c=(0,i.Z)(),l=(e,n,t,r,a,i)=>{for(let o=t;o!==r;o+=a){const t=n+o,r=e.children[t];if(t>9)break;r.classList.toggle("over"),i&&r.classList.toggle(i)}};let u=!0,p=null,g=null;const h=()=>{function e(){this.draggable&&(this.classList.add("already-in-use"),g=(0,a.Z)(this.children.length),p=this)}function n(){u&&!0===this.draggable?this.classList.remove("already-in-use"):(this.classList.add("already-in-use"),this.draggable=!1,u=!0)}Array.from(s.children).forEach((t=>{((e,n)=>{for(let t=0;t<n;t+=1){const n=document.createElement("div");n.classList.add("ship-cell"),e.appendChild(n)}})(t,t.getAttribute("data-length")),t.addEventListener("dragstart",e),t.addEventListener("dragend",n)}))},b=e=>{const n=(e,n)=>{!0===p.draggable&&((e,n,t)=>{c.areCellsAvailable(t.getLength(),[+e.getAttribute("data-line"),n],0,"rightward")?l(e,n,t.getLength()-1,-1,-1):l(e,n,0,t.getLength(),1,"not-placeable")})(e.parentElement,+e.getAttribute("data-square"),n)},t=e=>(e.preventDefault(),!1);Array.from(e.children).forEach((e=>{Array.from(e.children).forEach((e=>{e.addEventListener("dragover",t),e.addEventListener("dragenter",(()=>n(e,g))),e.addEventListener("dragleave",(()=>n(e,g))),e.addEventListener("drop",(n=>{document.querySelector(`.placeable-ships-container > *[data-length="${g.getLength()}"]`),((e,n,t)=>{e.stopPropagation(),!0===p.draggable&&((e,n,t)=>{if(!c.placeShip(t,[+e.getAttribute("data-line"),n],0,"rightward"))return l(e,n,0,t.getLength(),1,"not-placeable"),!1;for(let r=t.getLength()-1;r>=0;r-=1){const t=e.children[n+r];t.classList.remove("over"),t.classList.add("ship")}return!0})(n.parentElement,+n.getAttribute("data-square"),t)&&(u=!1)})(n,e,g)}))}))}))};(()=>{const e=t;c.buildGrids(),d=(0,r.Zb)(d),h(),b(d),(e=>{s.querySelector(".randomize-btn").addEventListener("click",(()=>{const[n]=e.getPlayers();e.initializeDefaultShips(c,n.id);const[t]=c.getGrids();(e=>{let n;e.forEach(((e,t)=>e.forEach(((e,r)=>{n=d.children[t].children[r],n.classList.contains("ship")&&n.classList.remove("ship")})))),e.forEach(((e,t)=>e.forEach(((e,r)=>{Number.isInteger(e.shipId)&&(n=d.children[t].children[r],n.classList.add("ship"))}))))})(t),s.querySelectorAll("[id]").forEach((e=>{e.setAttribute("draggable","false"),e.classList.add("already-in-use")}))}))})(e),(e=>{o.querySelector(".start-btn").addEventListener("click",(()=>{Array.from(s.querySelectorAll("[id]")).every((e=>"false"===e.getAttribute("draggable")))&&((()=>{const t=n,r=t.Indicator(),a=r.addTurnIndicator(),i=document.querySelector(".page-container"),o=t.buildPlayerGrids();i.append(a,o[0],o[1]),e.startGame("computer",c);const[s,d]=c.getGrids();t.populateDOMGrid(s,0),t.populateDOMGrid(d,1),t.listenOpponentGridCells(r)})(),o.style.animation="fadeOut forwards .5s",setTimeout((()=>o.remove()),500))}))})(e)})()}},807:(e,n,t)=>{let r;t.d(n,{ZP:()=>s,Zb:()=>i,of:()=>o,zF:()=>a});const a=(e,n)=>!(!e||!n||0===e.length||0===n.length)&&e.some((e=>e.length===n.length&&e.every(((e,t)=>e===n[t])))),i=e=>{for(let n=0;n<10;n+=1){const t=document.createElement("div");t.classList.add("line"),t.setAttribute("data-line",n);for(let e=0;e<10;e+=1){const r=document.createElement("div");r.classList.add("square"),0===n&&r.classList.add("top"),9===n&&r.classList.add("bottom"),0===e&&r.classList.add("left"),9===e&&r.classList.add("right"),r.setAttribute("data-square",e),t.appendChild(r)}e.appendChild(t)}return e},o=(e,n)=>e<=9&&e>=0&&n<=9&&n>=0,s=e=>(Number.isInteger(e)?r=e:void 0===r?r=0:r+=1,r)}},t={};function r(e){var a=t[e];if(void 0!==a)return a.exports;var i=t[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var n=r.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var t=n.getElementsByTagName("script");if(t.length)for(var a=t.length-1;a>-1&&!e;)e=t[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),r.b=document.baseURI||self.location.href,r.nc=void 0,e=r(528),window.addEventListener("DOMContentLoaded",(()=>(0,e.Z)().loadContent()))})();